<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katsee</title>
    <link rel="stylesheet" href="/user/ChatList.css">
</head>
<body>
    <h2 class="header">ì±„íŒ…</h2>
    <h3 class="subheader">ì±„íŒ… ëª©ë¡</h3>

    <div class="card-container" id="card-container">
        <div class="card-div" id="card-div">
            <p class="card-p">ì§„í–‰ì¤‘ì¸ ì±„íŒ…ì´ ì—†ì–´ìš” ğŸ¥²</p>
        </div>
    </div>

    <div class="navigation">
        <a href="/FriendRecommend.html" class="nav-item">
            <img src="/static/images/Friends.png" alt="" class="icon">
            ì¹œêµ¬ ì¶”ì²œ
        </a>
        <a href="/RequestList.html" class="nav-item">
            <img src="/static/images/Love.png" alt="" class="icon">
            ì¹œêµ¬ ìš”ì²­
        </a>
        <a href="/UserHome.html" class="nav-item">
            <img src="/static/images/Home.png" alt="" class="icon">
            í™ˆ
        </a>
        <a href="/ChattingList.html" class="nav-item active">
            <img src="/static/images/chat1.png" alt="" class="icon">
            ì±„íŒ…
        </a>
        <a href="/MyPage.html" class="nav-item">
            <img src="/static/images/User.png" alt="" class="icon">
            ë§ˆì´í˜ì´ì§€
        </a>
    </div>

    <script>
        // í…ŒìŠ¤íŠ¸ ì´ˆê¸° ë°ì´í„°
        let memberDataList = [
            {
                id: 'test1',
                profileUrl: '/static/images/ProfileImage.png',
                name: 'í™ê¸¸ë™',
                createAt: '2025.03.27'
            },
            {
                id: 'test2',
                profileUrl: '/static/images/ProfileImage.png',
                name: 'ë‚¨ê¸¸ë™',
                createAt: '2025.03.19'
            }
        ];

        // ë°±ì—”ë“œì—ì„œ ë‚˜ì¤‘ì— ì•„ë˜ì²˜ëŸ¼ êµ¬ì„±í•˜ë©´ë¨.
        function memberData() {
            /**
             * @TODO ì±„íŒ… ëª©ë¡ ì¡°íšŒ API í˜¸ì¶œ
             */

            memberDataList.push({
                id: 'test1',
                profileUrl: '/static/images/ProfileImage.png',
                name: 'í™ê¸¸ë™',
                createAt: '2025.03.19'
            });
        }

        function setMemberElement() {
            const cardDiv = document.getElementById('card-div');
            if(memberDataList.length === 0) {
                cardDiv.style.display = 'flex';
            }

            const card = document.getElementById('card-container');
            memberDataList.forEach((data, number) => {
                const chatCard = document.createElement('div');
                chatCard.className = 'chat-card';
                chatCard.id = 'chat-card';

                // í”„ë¡œí•„ ì‚¬ì§„ ì˜ì—­ ìƒì„±
                const profilePic = document.createElement('div');
                profilePic.className = 'profile-pic bear-profile';

                // í”„ë¡œí•„ ì´ë¯¸ì§€ ìƒì„±
                const profileImg = document.createElement('img');
                profileImg.src = data.profileUrl;
                profileImg.alt = 'profile-icon';
                profileImg.id = 'profile-icon';

                // ì±„íŒ… ì •ë³´ ì˜ì—­ ìƒì„±
                const chatInfo = document.createElement('div');
                chatInfo.className = 'chat-info';

                // ì±„íŒ… ì´ë¦„ ìƒì„±
                const chatName = document.createElement('div');
                chatName.className = 'chat-name';
                chatName.id = 'chat-name';
                chatName.textContent = data.name;
                chatName.onclick = function() {
                    window.location.href = '/Chatting.html';
                };

                // ì±„íŒ… ë©”ì‹œì§€ ìƒì„±
                const chatMessage = document.createElement('div');
                chatMessage.className = 'chat-message';
                chatMessage.id = 'chat-content';
                chatMessage.textContent = data.createAt;

                // ì‚­ì œ ë²„íŠ¼ ìƒì„±
                const deleteBtn = document.createElement('a');
                deleteBtn.href = '#';
                deleteBtn.className = 'status';
                deleteBtn.id = 'delete-btn';
                deleteBtn.textContent = 'ì‚­ì œ';

                // ìš”ì†Œë“¤ì„ êµ¬ì¡°ì— ë§ê²Œ ì¶”ê°€
                profilePic.appendChild(profileImg);
                chatInfo.appendChild(chatName);
                chatInfo.appendChild(chatMessage);

                chatCard.appendChild(profilePic);
                chatCard.appendChild(chatInfo);
                chatCard.appendChild(deleteBtn);
                card.appendChild(chatCard);
            });
        }

        setMemberElement();
    </script>
</body>
</html>
